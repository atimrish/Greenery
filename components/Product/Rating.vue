<script setup>

const props = defineProps({
  modelValue: {
    type: Number,
    default: 0
  }
});

const emits = defineEmits([
    'update:modelValue'
]);

const rating = ref([
    false, false, false, false, false
]);


const handlerClick = (value) => {
  for (let i = 0; i < rating.value.length; i++) {
    rating.value[i] = i < value;
  }
  emits('update:modelValue', rating.value.filter(item => item).length);
}

</script>

<template>
  <div class="flex">
    <svg
        v-for="(item, index) in rating"
        width="18"
        height="16"
        viewBox="0 0 18 16"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        class="w-[26px] h-[26px] cursor-pointer mr-2"
        @click="handlerClick(index + 1)"
    >
      <path
          d="M8.05334 0.781088C8.36095 -0.122599 9.63905 -0.122601 9.94666 0.781085L11.2389 4.57756C11.3769 4.98282 11.7575 5.25532 12.1856 5.25532H16.2649C17.2449 5.25532 17.6401 6.51859 16.8348 7.07705L13.6158 9.30948C13.2489 9.56393 13.0952 10.0308 13.2391 10.4534L14.4873 14.1205C14.7981 15.0336 13.7634 15.8141 12.9707 15.2644L9.56988 12.9059C9.22714 12.6682 8.77286 12.6682 8.43012 12.9059L5.02926 15.2644C4.23659 15.8142 3.20188 15.0336 3.51272 14.1205L4.76095 10.4534C4.90482 10.0308 4.75106 9.56393 4.38417 9.30948L1.16517 7.07705C0.359916 6.51859 0.755101 5.25532 1.73505 5.25532H5.81439C6.24249 5.25532 6.6231 4.98282 6.76105 4.57756L8.05334 0.781088Z"
          :class="{'clicked-rating': item}"
      />
    </svg>
  </div>
</template>

<style scoped>
path {
  fill: #B4B8B2;
}

.clicked-rating {
  fill: #A88C1B;
}

</style>